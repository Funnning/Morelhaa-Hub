-- Crear el ScreenGui
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "ExploitMenu"
screenGui.Parent = game:GetService("CoreGui")

-- Crear la bola de cliente
local ball = Instance.new("Part")
ball.Size = Vector3.new(2, 2, 2)
ball.Position = Vector3.new(0, 5, 0)
ball.Anchored = true
ball.CanCollide = false
ball.Parent = workspace

local ballMesh = Instance.new("SpecialMesh")
ballMesh.MeshType = Enum.MeshType.Sphere
ballMesh.Parent = ball

local ballMaterial = Instance.new("SelectionBox")
ballMaterial.Adornee = ball
ballMaterial.Color3 = Color3.new(1, 0, 0)
ballMaterial.Parent = ball

-- Crear el contenedor principal del menú
local mainFrame = Instance.new("Frame")
mainFrame.Size = UDim2.new(0, 300, 0, 400)
mainFrame.Position = UDim2.new(0, -300, 0, 50)
mainFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
mainFrame.Visible = false
mainFrame.Parent = screenGui

-- Crear las secciones del menú
local sections = {
    "Main",
    "Stelear",
    "Helper",
    "Player"
}

for _, section in ipairs(sections) do
    local sectionButton = Instance.new("TextButton")
    sectionButton.Size = UDim2.new(1, 0, 0, 50)
    sectionButton.Position = UDim2.new(0, 0, 0, (sections.indexOf(section) - 1) * 50)
    sectionButton.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
    sectionButton.Text = section
    sectionButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    sectionButton.Parent = mainFrame
end

-- Funcionalidad para abrir/cerrar el menú al hacer clic en la bola
ball.Touched:Connect(function(hit)
    local player = game.Players:GetPlayerFromCharacter(hit.Parent)
    if player then
        mainFrame.Visible = not mainFrame.Visible
    end
end)

-- Hacer el menú movible
local dragging
local dragInput
local dragStart
local startPos

local function update(input)
    local delta = input.Position - dragStart
    mainFrame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
end

mainFrame.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = true
        dragStart = input.Position
        startPos = mainFrame.Position

        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then
                dragging = false
            end
        end)
    end
end)

mainFrame.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement then
        dragInput = input
    end
end)

game:GetService("UserInputService").InputChanged:Connect(function(input)
    if input == dragInput and dragging then
        update(input)
    end
end)

-- Funcionalidades para cada sección
local function onMainSectionClicked()
    -- Lógica para la sección Main
    print("Main section clicked")
end

local function onStelearSectionClicked()
    -- Lógica para la sección Stelear
    print("Stelear section clicked")
end

local function onHelperSectionClicked()
    -- Lógica para la sección Helper
    print("Helper section clicked")
end

local function onPlayerSectionClicked()
    -- Lógica para la sección Player
    print("Player section clicked")
end

-- Conectar las funciones a los botones de las secciones
mainFrame.ChildAdded:Connect(function(child)
    if child:IsA("TextButton") then
        child.MouseButton1Click:Connect(function()
            if child.Text == "Main" then
                onMainSectionClicked()
            elseif child.Text == "Stelear" then
                onStelearSectionClicked()
            elseif child.Text == "Helper" then
                onHelperSectionClicked()
            elseif child.Text == "Player" then
                onPlayerSectionClicked()
            end
        end)
    end
end)
